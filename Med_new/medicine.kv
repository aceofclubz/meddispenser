#:import Color kivy.utils.get_color_from_hex
#:set Red "#F94A69"
#:set Green "#06A5AB"
#:set LBlue "0066BA"
#:set Blue "#16203B"
#:set DBlue '#03A9F4'
#:set Black "#000000"
#:set Coral "#FE9970"
#:set SweetCorn "#FFCC66"
#:set Light "#F39E7B"
#:set Orange "#FE804C"
#:set Violet "#351C75"
#:set Yellow "#FFFF00"
#:set Dandelion "#FF9900"
#:set Pink "#FF00FF"
#:set DarkGray "#444444"
#:set LGray "#666666"
#:set LPink "#F4CCCC"
#:set Maroon "#660000"
#:set Torquiose "#066164"
#:set Gold "#BF9000"
#:set DViolet "#351C75"
#:set DGreen "##274E13"
#:set Fushia "#741B47"
#:set LGreen "#B6D7A8"
#:set MPink "#C27BA0"
#:set FBlue "#CFE2F3"
#:set BGreen "#6AA84F"
#:set MRed "#CC0000"
#:set DkRed "#990000"
#:set White "#FFFFFF"
#:set LtRed "#E06666"
#:set Lime "#00FF00"
#:set HPink "#C27BA0"


<Button>
    bold: True


#takes the property of label
<WrappedLabel@Label>:
    size_hint_y: None

# multiply the height to 1.5 of the text size

    height: self.texture_size[1] + (self.texture_size[1]/2)
    width: self.texture_size[1] + (self.texture_size[1]/2)
    markup: True

<MainScreen>:
    orientation: 'vertical'

    ScreenManager:
        id: kivy_screen_manager

        BarcodeScreen:
            id: barcode_screen
            name: "barcode_screen"

        AdminScreen:
            id: admin_screen
            name: "admin_screen"

        StartScreen:
            id: start_screen
            name: "start_screen"

        CountScreen:
            id: count_screen
            name: "count_screen"

        BioScreen:
            id: bio_screen
            name: "bio_screen"

        BuscoScreen:
            id: busco_screen
            name: "busco_screen"

        DecolScreen:
            id: decol_screen
            name: "decol_screen"

        DolfeScreen:
            id: dolfe_screen
            name: "dolfe_screen"

        SolScreen:
            id: sol_screen
            name: "sol_screen"

        FirstScreen:
            id: first_screen
            name: "first_screen"

        SecondScreen:
            id: second_screen
            name: "second_screen"

        ThirdScreen:
            id: third_screen
            name: "third_screen"

        FourthScreen:
            id: fourth_screen
            name: "fourth_screen"

        FifthScreen:
            id: fifth_screen
            name: "fifth_screen"

#main screen
#wrapped label became the universal design for label
<BarcodeScreen@Screen>
    BoxLayout:

        orientation:"vertical"

        #about 2% of the width
        padding: root.width * 0.02, root.height * .02

        #minimum of 2% of the root width and root height of the text
        spacing: min(root.width, root.height) *.02
        on_pre_enter: app.root.stopper()


        WrappedLabel:
            id: label
            text: "WELCOME TO SMART OTC MEDICINE DISPENSER[+]"
            bold: True
            font_size: 30
            color: Color(DkRed)

        WrappedLabel:
            id: label
            text: "[Scan Barcode Here:]"
            bold: True
            font_size: 25
            color: Color(Violet)

        TextInput:
            id: bcode
            background_color: Color(SweetCorn)
            color: Color (White)
            text: ''
            multiline: False
            halign: "center"
            valign: "middle"
            markup: True
            font_size: 40
            cursor_blink: True
            focus: True

        Button:
            text: "Confirm"
            font_size: 25
            color: Color(White)
            background_color: Color(DBlue)
            on_press: app.root.bcode(bcode.text)
            on_release: bcode.text= ''


        Button:
            text: "Clear"
            font_size: 25
            color: Color(White)
            background_color: Color(DBlue)
            on_release: bcode.text = ''

        Button:
            text: "Admin Login"
            font_size: 25
            color: Color(White)
            background_color: Color(DBlue)
            on_release: app.root.changeScreen(self.text.lower())

<AdminScreen@Screen>
    BoxLayout:
        #Settings
        orientation:"vertical"
        #about 2% of the width
        padding: root.width * 0.02, root.height * .02
        #minimum of 2% of the root width and root height of the text
        spacing: min(root.width, root.height) *.02
        Label:
            text: "Username: "
            bold: True
            color: Color(DkRed)
            font_size: 25
        TextInput:
            id: admin
            text: ''
            background_color: Color(SweetCorn)
            color: Color (White)
            multiline: False
            halign: "center"
            valign: "middle"
            markup: True
            font_size: 25
            cursor_blink: True

        Label:
            text: "Password: "
            font_size: 25
            bold: True
            color: Color(DkRed)

        TextInput:
            id: code
            text: ''
            background_color: Color(SweetCorn)
            color: Color (White)
            multiline: False
            halign: "center"
            valign: "middle"
            markup: True
            font_size: 25
            cursor_blink: True
            password: True

        Button:
            text: "Enter"
            font_size: 25
            background_color: Color(DkRed)
            color: Color (White)
            on_release: app.root.admin(admin.text, code.text)

        Button:
            text: "Clear Field"
            font_size: 25
            background_color: Color(DkRed)
            color: Color (White)
            on_press: admin.text = ''
            on_release: code.text = ''

        Button:
            text: "Back"
            font_size: 25
            background_color: Color(DkRed)
            color: Color (White)
            on_release: app.root.changeScreen(self.text.lower())

<CountScreen@Screen>
    BoxLayout:
        #Settings
        orientation:"vertical"

        #about 2% of the width
        padding: root.width * 0.02, root.height * .02

        #minimum of 2% of the root width and root height of the text
        spacing: min(root.width, root.height) *.02

        #label found at the center of the start screen
        WrappedLabel:
            text:"[b][i][u]Medicine Count Reset:[/b][/i][/u]"
            color: Color (DGreen)
            font_size: min(root.height, root.width) / 10

        Button:
            text: "Set Biogesic"
            font_size: 25
            background_color: Color(DGreen)
            color: Color (White)
            on_release: app.root.changeScreen(self.text.lower())

        Button:
            text: "Set Buscopan"
            font_size: 25
            background_color: Color(DGreen)
            color: Color (White)
            on_release: app.root.changeScreen(self.text.lower())

        Button:
            text: "Set Decolgen No-Drowse"
            font_size: 25
            background_color: Color(DGreen)
            color: Color (White)
            on_release: app.root.changeScreen(self.text.lower())

        Button:
            text: "Set Dolfenal"
            font_size: 25
            background_color: Color(DGreen)
            color: Color (White)
            on_release: app.root.changeScreen(self.text.lower())

        Button:
            text: "Set Solmux"
            font_size: 25
            background_color: Color(DGreen)
            color: Color (White)
            on_release: app.root.changeScreen(self.text.lower())

        Button:
            text: "Log Out"
            font_size: 25
            background_color: Color(DGreen)
            color: Color (White)
            on_release: app.root.changeScreen(self.text.lower())

<BioScreen@Screen>
    display: bioset
    BoxLayout:
        #Settings
        orientation:"vertical"
        #about 2% of the width
        padding: root.width * 0.02, root.height * .02

        #minimum of 2% of the root width and root height of the text
        spacing: min(root.width, root.height) *.02

        Label:
            text: "Biogesic Medicine Count Set"
            font_size: 25
            bold: True
            underline: True
            color: Color(Red)
            size_hint:[1,0.2]

        TextInput:
            id: bioset
            text: ''
            background_color: Color(SweetCorn)
            multiline: False
            halign: "center"
            valign: "middle"
            markup: True
            font_size: 25
            cursor_blink: True
            size_hint:[1,0.3]

        GridLayout:
            cols: 3
            padding: 10
            spacing: 10

            Button:
                text: "1"
                font_size: 25

                on_press: bioset.text += self.text
            Button:
                text: "2"
                font_size: 25
                on_press: bioset.text += self.text
            Button:
                text: "3"
                font_size: 25
                on_press: bioset.text += self.text
            Button:
                text: "4"
                font_size: 25
                on_press: bioset.text += self.text
            Button:
                text: "5"
                font_size: 25
                on_press: bioset.text += self.text
            Button:
                text: "6"
                font_size: 25
                on_press: bioset.text += self.text
            Button:
                text: "7"
                font_size: 25
                on_press: bioset.text += self.text
            Button:
                text: "8"
                font_size: 25
                on_press: bioset.text += self.text
            Button:
                text: "9"
                font_size: 25
                on_press: bioset.text += self.text
            Button:
                text: "Clear"
                font_size: 25
                on_press: bioset.text = ""
            Button:
                text: "0"
                font_size: 25
                on_press: bioset.text += self.text
            Button:
                text: "Set"
                font_size: 25
                on_release: app.root.reset(1, bioset.text)
            Button:
                text: "Go Back"
                font_size: 25
                on_release: app.root.changeScreen(self.text.lower())
<BuscoScreen@Screen>
    display: buscoset
    BoxLayout:
        #Settings
        orientation:"vertical"
        #about 2% of the width
        padding: root.width * 0.02, root.height * .02

        #minimum of 2% of the root width and root height of the text
        spacing: min(root.width, root.height) *.02

        Label:
            text: "Buscopan Medicine Count Set"
            font_size: 25
            bold: True
            underline: True
            color: Color(Red)
            size_hint:[1,0.2]

        TextInput:
            id: buscoset
            text: ''
            background_color: Color(SweetCorn)
            multiline: False
            halign: "center"
            valign: "middle"
            markup: True
            font_size: 25
            cursor_blink: True
            size_hint:[1,0.3]

        GridLayout:
            cols: 3
            padding: 10
            spacing: 10

            Button:
                text: "1"
                font_size: 25

                on_press: buscoset.text += self.text
            Button:
                text: "2"
                font_size: 25
                on_press: buscoset.text += self.text
            Button:
                text: "3"
                font_size: 25
                on_press: buscoset.text += self.text
            Button:
                text: "4"
                font_size: 25
                on_press: buscoset.text += self.text
            Button:
                text: "5"
                font_size: 25
                on_press: buscoset.text += self.text
            Button:
                text: "6"
                font_size: 25
                on_press: buscoset.text += self.text
            Button:
                text: "7"
                font_size: 25
                on_press: buscoset.text += self.text
            Button:
                text: "8"
                font_size: 25
                on_press: buscoset.text += self.text
            Button:
                text: "9"
                font_size: 25
                on_press: buscoset.text += self.text
            Button:
                text: "Clear"
                font_size: 25
                on_press: buscoset.text = ""
            Button:
                text: "0"
                font_size: 25
                on_press: buscoset.text += self.text
            Button:
                text: "Set"
                font_size: 25
                on_release: app.root.reset(2, buscoset.text)
            Button:
                text: "Go Back"
                font_size: 25
                on_release: app.root.changeScreen(self.text.lower())

<DecolScreen@Screen>
    display: decolset
    BoxLayout:
        #Settings
        orientation:"vertical"
        #about 2% of the width
        padding: root.width * 0.02, root.height * .02

        #minimum of 2% of the root width and root height of the text
        spacing: min(root.width, root.height) *.02

        Label:
            text: "Decolgen Medicine Count Set"
            font_size: 25
            bold: True
            underline: True
            color: Color(Red)
            size_hint:[1,0.2]

        TextInput:
            id: decolset
            text: ''
            background_color: Color(SweetCorn)
            multiline: False
            halign: "center"
            valign: "middle"
            markup: True
            font_size: 25
            cursor_blink: True
            size_hint:[1,0.3]

        GridLayout:
            cols: 3
            padding: 10
            spacing: 10

            Button:
                text: "1"
                font_size: 25

                on_press: decolset.text += self.text
            Button:
                text: "2"
                font_size: 25
                on_press: decolset.text += self.text
            Button:
                text: "3"
                font_size: 25
                on_press: decolset.text += self.text
            Button:
                text: "4"
                font_size: 25
                on_press: decolset.text += self.text
            Button:
                text: "5"
                font_size: 25
                on_press: decolset.text += self.text
            Button:
                text: "6"
                font_size: 25
                on_press: decolset.text += self.text
            Button:
                text: "7"
                font_size: 25
                on_press: decolset.text += self.text
            Button:
                text: "8"
                font_size: 25
                on_press: decolset.text += self.text
            Button:
                text: "9"
                font_size: 25
                on_press: decolset.text += self.text
            Button:
                text: "Clear"
                font_size: 25
                on_press: decolset.text = ""
            Button:
                text: "0"
                font_size: 25
                on_press: decolset.text += self.text
            Button:
                text: "Set"
                font_size: 25
                on_release: app.root.reset(3, decolset.text) 
            Button:
                text: "Go Back"
                font_size: 25
                on_release: app.root.changeScreen(self.text.lower())

<DolfeScreen@Screen>
    display: dolfeset
    BoxLayout:
        #Settings
        orientation:"vertical"
        #about 2% of the width
        padding: root.width * 0.02, root.height * .02

        #minimum of 2% of the root width and root height of the text
        spacing: min(root.width, root.height) *.02

        Label:
            text: "Dolfenal Medicine Count Set"
            font_size: 25
            bold: True
            underline: True
            color: Color(Red)
            size_hint:[1,0.2]

        TextInput:
            id: dolfeset
            text: ''
            background_color: Color(SweetCorn)
            multiline: False
            halign: "center"
            valign: "middle"
            markup: True
            font_size: 25
            cursor_blink: True
            size_hint:[1,0.3]

        GridLayout:
            cols: 3
            padding: 10
            spacing: 10

            Button:
                text: "1"
                font_size: 25

                on_press: dolfeset.text += self.text
            Button:
                text: "2"
                font_size: 25
                on_press: dolfeset.text += self.text
            Button:
                text: "3"
                font_size: 25
                on_press: dolfeset.text += self.text
            Button:
                text: "4"
                font_size: 25
                on_press: dolfeset.text += self.text
            Button:
                text: "5"
                font_size: 25
                on_press: dolfeset.text += self.text
            Button:
                text: "6"
                font_size: 25
                on_press: dolfeset.text += self.text
            Button:
                text: "7"
                font_size: 25
                on_press: dolfeset.text += self.text
            Button:
                text: "8"
                font_size: 25
                on_press: dolfeset.text += self.text
            Button:
                text: "9"
                font_size: 25
                on_press: dolfeset.text += self.text
            Button:
                text: "Clear"
                font_size: 25
                on_press: dolfeset.text = ""
            Button:
                text: "0"
                font_size: 25
                on_press: dolfeset.text += self.text
            Button:
                text: "Set"
                font_size: 25
                on_release: app.root.reset(4, dolfeset.text) 
            Button:
                text: "Go Back"
                font_size: 25
                on_release: app.root.changeScreen(self.text.lower())

<SolScreen@Screen>
    display: solset
    BoxLayout:
        #Settings
        orientation:"vertical"
        #about 2% of the width
        padding: root.width * 0.02, root.height * .02

        #minimum of 2% of the root width and root height of the text
        spacing: min(root.width, root.height) *.02

        Label:
            text: "Solmux Medicine Count Set"
            font_size: 25
            bold: True
            underline: True
            color: Color(Red)
            size_hint:[1,0.2]

        TextInput:
            id: solset
            text: ''
            background_color: Color(SweetCorn)
            multiline: False
            halign: "center"
            valign: "middle"
            markup: True
            font_size: 25
            cursor_blink: True
            size_hint:[1,0.3]

        GridLayout:
            cols: 3
            padding: 10
            spacing: 10

            Button:
                text: "1"
                font_size: 25

                on_press: solset.text += self.text
            Button:
                text: "2"
                font_size: 25
                on_press: solset.text += self.text
            Button:
                text: "3"
                font_size: 25
                on_press: solset.text += self.text
            Button:
                text: "4"
                font_size: 25
                on_press: solset.text += self.text
            Button:
                text: "5"
                font_size: 25
                on_press: solset.text += self.text
            Button:
                text: "6"
                font_size: 25
                on_press: solset.text += self.text
            Button:
                text: "7"
                font_size: 25
                on_press: solset.text += self.text
            Button:
                text: "8"
                font_size: 25
                on_press: solset.text += self.text
            Button:
                text: "9"
                font_size: 25
                on_press: solset.text += self.text
            Button:
                text: "Clear"
                font_size: 25
                on_press: solset.text = ""
            Button:
                text: "0"
                font_size: 25
                on_press: solset.text += self.text
            Button:
                text: "Set"
                font_size: 25
                on_release: app.root.reset(5, solset.text) 

            Button:
                text: "Go Back"
                font_size: 25
                on_release: app.root.changeScreen(self.text.lower())


<StartScreen@Screen>
    BoxLayout:
        #Settings
        orientation:"vertical"

        #about 2% of the width
        padding: root.width * 0.02, root.height * .02

        #minimum of 2% of the root width and root height of the text
        spacing: min(root.width, root.height) *.02

        #label found at the center of the start screen
        WrappedLabel:
            text:"[b][i]{Please select medicine:}[/b][/i]"
            underline: True
            color: Color(Violet)
            font_size: min(root.height, root.width) / 10

        Button:
            text: "Biogesic"
            font_size: 25
            color: Color(Yellow)
            background_color: Color(DViolet)
            on_release: app.root.changeScreen(self.text.lower())

        Button:
            text: "Buscopan"
            font_size: 25
            color: Color(Yellow)
            background_color: Color(DViolet)
            on_release: app.root.changeScreen(self.text.lower())

        Button:
            text: "Decolgen No-Drowse"
            font_size: 25
            color: Color(Yellow)
            background_color: Color(DViolet)
            on_release: app.root.changeScreen(self.text.lower())

        Button:
            text: "Dolfenal"
            font_size: 25
            color: Color(Yellow)
            background_color: Color(DViolet)
            on_release: app.root.changeScreen(self.text.lower())

        Button:
            text: "Solmux"
            font_size: 25
            color: Color(Yellow)
            background_color: Color(DViolet)
            on_release: app.root.changeScreen(self.text.lower())

<FirstScreen@Screen>
    BoxLayout:
        #Settings
        orientation:"vertical"

        #about 2% of the width
        padding: root.width * 0.02, root.height * .02

        #minimum of 2% of the root width and root height of the text
        spacing: min(root.width, root.height) *.02

        #label found at the center of the first screen
        WrappedLabel:
            text:"[b][i][u]Biogesic Option:[/b][/i][/u]"
            color: Color(Light)
            font_size: min(root.height, root.width) / 10

        Button:
            text: "Information"
            font_size: 25
            color: Color(Light)
            background_color: Color(Torquiose)
            on_press: app.root.pop1()

        Button:
            text: "Play Audio"
            font_size: 25
            color: Color(Light)
            background_color: Color(Torquiose)
            on_release: app.root.sound1()


        Button:
            text: "Dispense Biogesic"
            font_size: 25
            color: Color(Light)
            background_color: Color(Torquiose)
            on_release: app.root.conpop1()

        Button:
            text: "Back to Main Screen"
            font_size: 25
            color: Color(Light)
            background_color: Color(Torquiose)
            on_release: app.root.changeScreen(self.text.lower())

<SecondScreen@Screen>
    BoxLayout:
        #Settings
        orientation:"vertical"

        #about 2% of the width
        padding: root.width * 0.02, root.height * .02

        #minimum of 2% of the root width and root height of the text
        spacing: min(root.width, root.height) *.02

        #label found at the center of the first screen
        WrappedLabel:
            text:"[b][i][u]Buscopan Option:[/b][/i][/u]"
            color: Color (HPink)
            font_size: min(root.height, root.width) / 10

        Button:
            text: "Information"
            font_size: 25
            background_color: Color(HPink)
            color: Color(Green)
            on_press: app.root.pop2()

        Button:
            text: "Play Audio"
            font_size: 25
            background_color: Color(HPink)
            color: Color(Green)
            on_release: app.root.sound2()

        Button:
            text: "Dispense Buscopan"
            font_size: 25
            background_color: Color(HPink)
            color: Color(Green)
            on_release: app.root.conpop2()

        Button:
            text: "Back to Main Screen"
            font_size: 25
            background_color: Color(HPink)
            color: Color(Green)
            on_release: app.root.changeScreen(self.text.lower())


<ThirdScreen@Screen>
    BoxLayout:
        #Settings
        orientation:"vertical"

        #about 2% of the width
        padding: root.width * 0.02, root.height * .02

        #minimum of 2% of the root width and root height of the text
        spacing: min(root.width, root.height) *.02

        #label found at the center of the first screen
        WrappedLabel:
            text:"[b][i][u]Decolgen No-Drowse Option:[/b][/i][/u]"
            color: Color(Gold)
            font_size: min(root.height, root.width) / 10

        Button:
            text: "Information"
            font_size: 25
            background_color: Color(Yellow)
            color: Color(Gold)
            on_press: app.root.pop3()

        Button:
            text: "Play Audio"
            font_size: 25
            background_color: Color(Yellow)
            color: Color(Gold)
            on_release: app.root.sound3()

        Button:
            text: "Dispense Decolgen No-Drowse"
            font_size: 25
            background_color: Color(Yellow)
            color: Color(Gold)
            on_release: app.root.conpop3()

        Button:
            text: "Back to Main Screen"
            font_size: 25
            background_color: Color(Yellow)
            color: Color(Gold)
            on_release: app.root.changeScreen(self.text.lower())

<FourthScreen@Screen>
    BoxLayout:
        #Settings
        orientation:"vertical"

        #about 2% of the width
        padding: root.width * 0.02, root.height * .02

        #minimum of 2% of the root width and root height of the text
        spacing: min(root.width, root.height) *.02

        #label found at the center of the first screen
        WrappedLabel:
            text:"[b][i][u]Dolfenal Option:[/b][/i][/u]"
            color: Color(Fushia)
            font_size: min(root.height, root.width) / 10

        Button:
            text: "Information"
            font_size: 25
            background_color: Color(Fushia)
            color: Color(LGreen)
            on_press: app.root.pop4()

        Button:
            text: "Play Audio"
            font_size: 25
            background_color: Color(Fushia)
            color: Color(LGreen)
            on_release: app.root.sound4()

        Button:
            text: "Dispense Dolfenal"
            font_size: 25
            background_color: Color(Fushia)
            color: Color(LGreen)
            on_release: app.root.conpop4()

        Button:
            text: "Back to Main Screen"
            font_size: 25
            background_color: Color(Fushia)
            color: Color(LGreen)
            on_release: app.root.changeScreen(self.text.lower())

<FifthScreen@Screen>
    BoxLayout:
        #Settings
        orientation:"vertical"

        #about 2% of the width
        padding: root.width * 0.02, root.height * .02

        #minimum of 2% of the root width and root height of the text
        spacing: min(root.width, root.height) *.02

        #label found at the center of the first screen
        WrappedLabel:
            text:"[b][i][u]Solmux Option:[/b][/i][/u]"
            color: Color (Blue)
            font_size: min(root.height, root.width) / 10

        Button:
            text: "Information"
            font_size: 25
            background_color: Color(Blue)
            color: Color(Lime)
            on_press: app.root.pop5()

        Button:
            text: "Play Audio"
            font_size: 25
            background_color: Color(Blue)
            color: Color(Lime)
            on_release: app.root.sound5()

        Button:
            text: "Dispense Solmux"
            font_size: 25
            background_color: Color(Blue)
            color: Color(Lime)
            on_release: app.root.conpop5()

        Button:
            text: "Back to Main Screen"
            font_size: 25
            background_color: Color(Blue)
            color: Color(Lime)
            on_release: app.root.changeScreen(self.text.lower())

